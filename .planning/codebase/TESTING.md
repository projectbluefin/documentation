# Testing Patterns

**Analysis Date:** 2026-01-26

## Test Framework

**Runner:**

- None detected in this project

**Assertion Library:**

- None detected

**Run Commands:**

- No test commands in `package.json`
- No test configuration files detected (`jest.config.*`, `vitest.config.*`, etc.)

**Status:**

- This project has **no automated testing infrastructure**
- Testing is manual via development server and build validation

## Test File Organization

**Location:**

- No test files exist in source code (`*.test.*` or `*.spec.*`)
- Test files only exist in `node_modules/` (dependency tests)

**Naming:**

- Not applicable - no test files

**Structure:**

- Not applicable - no test files

## Test Structure

**Suite Organization:**

- Not applicable - no automated tests

**Manual Testing Approach:**

The project relies on manual validation via these commands:

```bash
# Type checking
npm run typecheck              # Validates TypeScript compilation

# Code formatting
npm run prettier-lint          # Checks formatting (warnings expected)
npm run prettier               # Auto-fixes formatting

# Build validation
npm run build                  # Full production build (7-15s, NEVER CANCEL)

# Development testing
npm run start                  # Start dev server with hot reload

# Production preview
npm run serve                  # Serve built site locally
```

**Validation Requirements (from AGENTS.md):**

1. **Type Safety:** Run `npm run typecheck` before commits
   - Some errors tolerated by Docusaurus build process
   - Used for early error detection, not strict enforcement

2. **Build Success:** Run `npm run build` before commits
   - Must complete without errors
   - Includes data fetching: feeds, playlists, GitHub profiles, repos, contributors

3. **Manual Browser Testing:** Run dev server and verify:
   - Navigate to changed pages
   - Verify content renders correctly
   - Test navigation and links
   - Verify changelog feeds display correctly
   - Check responsive layout

## Mocking

**Framework:**

- Not applicable - no test framework

**Patterns:**

- Not applicable

**What to Mock:**

- Not applicable

**What NOT to Mock:**

- Not applicable

## Fixtures and Factories

**Test Data:**

- Not applicable - no test infrastructure

**Build-Time Data:**

- Production data fetched at build time and committed to static files
- Pre-fetched JSON files serve as "fixtures" for components:
  - `static/data/playlist-metadata.json` - YouTube playlist metadata
  - `static/data/github-profiles.json` - GitHub user profiles
  - `static/data/github-repos.json` - GitHub repository stats
  - `static/feeds/bluefin-releases.json` - Bluefin release feed
  - `static/feeds/bluefin-lts-releases.json` - Bluefin LTS release feed

**Location:**

- Auto-generated in `static/data/` and `static/feeds/` directories
- **NEVER commit these files** - they are in `.gitignore`
- Generated by `npm run fetch-data` (runs automatically during `npm start` and `npm run build`)

## Coverage

**Requirements:**

- No coverage targets - no testing framework

**View Coverage:**

- Not applicable

## Test Types

**Unit Tests:**

- None - no test infrastructure

**Integration Tests:**

- None - no test infrastructure

**E2E Tests:**

- None - no test framework

**Manual Testing:**

- Development server validation (`npm run start`)
- Production build testing (`npm run build && npm run serve`)
- Visual regression testing via manual inspection
- Browser compatibility testing via manual testing

## Common Patterns

**Validation Workflow:**

1. **Pre-commit validation:**

   ```bash
   npm run typecheck        # TypeScript validation (2s)
   npm run prettier-lint    # Format check (3s, warnings expected)
   npm run build            # Full build test (7-15s)
   ```

2. **Development validation:**

   ```bash
   npm run start            # Start dev server (includes fetch-data)
   # Navigate to changed pages in browser
   # Verify content, navigation, layout
   ```

3. **Production validation:**
   ```bash
   npm run serve            # Serve built site
   # Test production build locally
   # Verify static site generation
   ```

**CI/CD Validation (.github/workflows/pages.yml):**

```yaml
# Build phase
- uses: oven-sh/setup-bun@v2
- run: bun install --frozen-lockfile --production
- run: bun run build
  env:
    GITHUB_TOKEN: ${{ secrets.PROJECT_READ_TOKEN }}

# Deploy phase (main branch only)
- uses: actions/deploy-pages@v4
```

**Critical Requirements:**

- **NEVER CANCEL** `npm install` (50-60s runtime, use 120s timeout)
- **NEVER CANCEL** `npm run build` (7-15s runtime, use 60s timeout)
- Set explicit timeouts for all validation commands
- Use `--legacy-peer-deps` if React peer dependency conflicts occur

## Error Detection Strategies

**TypeScript Compilation:**

- Run `npm run typecheck` to catch type errors
- Extends `@docusaurus/tsconfig` for consistency
- Some errors tolerated by Docusaurus build process

**Runtime Error Detection:**

- Development server shows React errors in browser
- Build process fails on broken links (`onBrokenLinks: "throw"`)
- Build process fails on broken markdown links (`onBrokenMarkdownLinks: "throw"`)

**Manual Verification Points:**

1. **Changelog rendering:**
   - Visit `/changelogs/` page
   - Verify package summary cards display correctly
   - Verify release feed items show version changes
   - Check both stable and LTS feeds

2. **Component rendering:**
   - ProjectCard: Verify GitHub stats display
   - GitHubProfileCard: Verify profiles load
   - MusicPlaylist: Verify thumbnails and metadata
   - FeedItems: Verify release feeds parse correctly

3. **Data fetching:**
   - Check console for fetch errors during build
   - Verify JSON files generated in `static/data/` and `static/feeds/`
   - Verify GitHub API rate limits not exceeded

**Build-Time Validation:**

- Data fetching scripts exit with non-zero on fatal errors
- GitHub API errors logged with warnings, not failures
- Missing data handled gracefully (components show loading/error states)

## Quality Assurance Approach

**Without automated testing, quality relies on:**

1. **TypeScript type safety** - Catch errors at compile time
2. **Prettier formatting** - Consistent code style
3. **Manual testing** - Browser validation before commits
4. **CI/CD pipeline** - Automated builds on every push
5. **Docusaurus validation** - Built-in link checking and build validation
6. **Git workflow** - Pull request reviews catch issues

**Manual Testing Checklist (for contributors):**

- [ ] Run `npm run typecheck` - no new errors
- [ ] Run `npm run prettier-lint` - formatting passes
- [ ] Run `npm run build` - build completes successfully
- [ ] Run `npm run start` - dev server starts
- [ ] Navigate to changed pages - content renders correctly
- [ ] Test links and navigation - no broken links
- [ ] Check responsive layout - mobile and desktop views
- [ ] Verify changelog feeds - package versions display correctly
- [ ] Check component functionality - cards, profiles, playlists work

**Recommended Future Testing:**

To improve quality, consider adding:

1. **Unit tests** - Jest or Vitest for utility functions
   - `src/config/packageConfig.ts` functions
   - Data transformation utilities
   - Helper functions

2. **Component tests** - React Testing Library
   - FeedItems rendering with mock data
   - ProjectCard with and without GitHub stats
   - GitHubProfileCard loading states

3. **E2E tests** - Playwright or Cypress
   - Changelog page navigation
   - Feed data loading
   - Link validation

4. **Visual regression** - Percy or Chromatic
   - Component snapshot testing
   - Layout verification

---

_Testing analysis: 2026-01-26_
