---
phase: 02-navigation-discovery
plan: 02
type: execute
wave: 2
depends_on: [02-01]
files_modified:
  - reports/
autonomous: false

must_haves:
  truths:
    - "Test report exists and renders correctly at /reports"
    - "Mobile navigation shows correct navbar order"
    - "Search returns report results when querying 'report' or 'biweekly'"
    - "RSS feed validates at /reports/rss.xml"
    - "Cross-links are functional in both directions"
  artifacts:
    - path: "reports/*.md"
      provides: "Test report for validation"
      min_lines: 50
  key_links:
    - from: "reports/*.md"
      to: "/changelogs"
      via: "footer links"
      pattern: "changelogs"
    - from: "src/pages/changelogs.tsx"
      to: "/reports"
      via: "intro paragraph"
      pattern: "/reports"
---

<objective>
Generate test report, validate mobile navigation, verify search integration, and perform end-to-end testing of Phase 2 deliverables.

Purpose: Ensure all navigation and discovery features work correctly before declaring Phase 2 complete. Verify cross-links, search, RSS, and responsive design.

Output: Test report generated, mobile navigation verified, search integration confirmed, human validation of user experience.
</objective>

<execution_context>
@~/.config/opencode/get-shit-done/workflows/execute-plan.md
@~/.config/opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-navigation-discovery/02-CONTEXT.md
@.planning/phases/01-biweekly-reports/01-02-SUMMARY.md
@.planning/phases/01-biweekly-reports/01-03-SUMMARY.md
@scripts/generate-report.js
@docusaurus.config.ts
</context>

<tasks>

<task type="auto">
  <name>Generate test report</name>
  <files>reports/</files>
  <action>
Generate a real test report using the report generation script from Phase 1.

Run the script to create a test report:

```bash
export GITHUB_TOKEN="${GH_TOKEN:-$GITHUB_TOKEN}"
node scripts/generate-report.js
```

The script should:

- Fetch data from GitHub Project Board
- Filter items from the last 2 weeks
- Categorize by labels
- Generate markdown with frontmatter
- Create file in reports/ directory
- Include footer with cross-links (from Plan 02-01)

If the script exits with "Not biweekly week" (odd ISO week), override the check temporarily by modifying the script or use a test flag if one exists.

Alternatively, manually create a test report following the format from scripts/lib/markdown-generator.js:

```markdown
---
title: "Test Report - January 2026"
date: 2026-01-27
tags: [test, project-activity]
---

This is a test report to validate Phase 2 navigation and discovery features.

## Summary

This week the team completed testing for biweekly reports integration.

## Development Activity

- ✅ Cross-linking between changelogs and reports
- ✅ Footer templates in generated reports
- ✅ Navbar order verification

## Contributors

Special thanks to all contributors this week.

---

_Want to see the latest OS releases? Check out the [Changelogs](/changelogs) page. For announcements and deep dives, read our [Blog](/blog)._

_This report was automatically generated from the [Project Bluefin Project Board](https://github.com/orgs/projectbluefin/projects/2)._
```

Ensure the test report is at least 50 lines and includes all sections (frontmatter, summary, categories, footer).
</action>
<verify>
ls -la reports/_.md
cat reports/_.md | wc -l # Should be > 50 lines
npm run build

# Navigate to http://localhost:3000/reports and verify test report is visible

  </verify>
  <done>Test report exists in reports/ directory, renders correctly at /reports, and includes footer with cross-links to changelogs and blog.</done>
</task>

<task type="auto">
  <name>Verify search integration</name>
  <files></files>
  <action>
Verify that reports are indexed and searchable by the Docusaurus search plugin (@easyops-cn/docusaurus-search-local).

The search plugin is already configured (from docusaurus.config.ts) with:

- indexBlog: true
- Multi-blog instances should be automatically indexed

Build the site to generate search index:

```bash
npm run build
```

Check the build output for search index generation. The plugin should index the reports blog instance.

Check if there's a search index file generated:

```bash
ls -la build/search-index*
```

If search plugin supports multiple blog instances automatically, no config changes needed. If not, check plugin documentation to verify multi-blog support.

Note: Actual search testing requires the dev server or built site to be running, which will be verified in the human verification checkpoint.
</action>
<verify>
npm run build

# Check build logs for search index generation

# Verify no errors related to reports blog indexing

# Check that search-index files exist

ls build/search-index\* 2>/dev/null || echo "Search index location may vary"
</verify>
<done>Build succeeds with search index generation. No errors related to reports blog indexing. Search index files generated.</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Phase 2 navigation and discovery features: cross-links, test report, navbar order, mobile navigation, and search integration</what-built>
  
  <how-to-verify>
**Start development server:**

```bash
cd /var/home/jorge/src/bluefin-docs
npm start 2>&1 | tee /tmp/docusaurus-server.log &
sleep 40
tail -50 /tmp/docusaurus-server.log
```

**Desktop Navigation Verification:**

1. Open http://localhost:3000/ in browser
2. Check navbar order (top navigation bar):
   - Expected: Blog, Changelogs, Reports, Discussions, Feedback, Store (or similar)
3. Click "Changelogs" → Verify intro paragraph mentions Reports with link
4. Click the Reports link in intro → Navigate to /reports
5. Verify /reports homepage shows blog description explaining relationship to changelogs
6. Click on test report → Verify report content loads
7. Verify footer in report has links to Changelogs and Blog
8. Click Changelogs footer link → Verify navigation to /changelogs works
9. Click Blog footer link → Verify navigation to /blog works

**Mobile Navigation Verification:**

1. Open browser dev tools (F12)
2. Toggle device emulation (Ctrl+Shift+M or Cmd+Shift+M)
3. Select mobile device (e.g., iPhone 12)
4. Click hamburger menu icon (☰)
5. Verify navbar items appear in same order: Blog, Changelogs, Reports, Discussions, Feedback, Store
6. Click Reports → Verify navigation works
7. Verify test report is readable on mobile (no layout issues)

**Search Integration Verification:**

1. Use the search box (usually top right)
2. Type "report" or "biweekly" or "test report"
3. Expected: Test report appears in search results
4. Click search result → Verify navigation to test report works

**RSS Feed Verification:**

1. Open http://localhost:3000/reports/rss.xml
2. Expected: Valid XML feed with test report entry
3. Check feed has: title, description, link, pubDate for test report

**Cross-link Verification Summary:**

- ✅ Changelogs page → Reports (intro paragraph link works)
- ✅ Reports → Changelogs (footer link works)
- ✅ Reports → Blog (footer link works)
- ✅ Test report renders correctly
- ✅ Mobile navigation shows correct order
- ✅ Search returns report results
- ✅ RSS feed accessible and valid

**Stop server when done:**

```bash
pkill -f "npm start"
```

  </how-to-verify>
  
  <resume-signal>
Type "approved" if all verifications pass, or describe any issues found.

If issues found, describe specifically:

- Which verification failed
- What was expected vs. what you saw
- Screenshots if helpful (describe what they show)
  </resume-signal>
  </task>

</tasks>

<verification>
**Automated checks:**

```bash
# Build passes
npm run typecheck
npm run build

# Test report exists
ls reports/*.md

# Report has footer
grep -i "changelogs\|blog" reports/*.md

# RSS feed exists after build
ls build/reports/rss.xml

# Search index generated
ls build/*search* 2>/dev/null
```

**Manual verification (checkpoint task):**

- Desktop navbar order correct
- Mobile navbar order correct
- Cross-links work in both directions
- Test report renders correctly
- Search returns report results
- RSS feed accessible
  </verification>

<success_criteria>

- Test report generated and renders at /reports
- All cross-links functional (changelogs ↔ reports, reports → blog)
- Mobile navigation shows correct navbar order
- Search integration works (reports appear in search results)
- RSS feed validates and includes test report
- Human verification checkpoint approved
- Zero TypeScript or build errors
  </success_criteria>

<output>
After completion, create `.planning/phases/02-navigation-discovery/02-02-SUMMARY.md`
</output>
